<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <title>United Kingdom Aikikai | Aikido Video Collection</title>

    <link rel="canonical" href="https://videos.ukaikikai.org.uk/">

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style>
        .hide {
            display: none;
        }
    </style>

</head>
<body>

<div id="template" class="hide">
    <div class="row hide">
        <div class="col-sm-6">

            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                        <iframe src="" width="640" height="359" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
                    </p>
                </div>
            </div>

        </div>

        <div class="col-sm-6">
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                        <iframe src="" width="640" height="359" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
<script>
    var toggle = 0;
    var rowBg = ['bg-light', 'text-white bg-secondary'];
    var videoCollection = [
        {
            'title': 'Summer School 2015',
            'player': 'https://player.vimeo.com/video/347684486'
        },
        {
            'title': 'Summer School 2005',
            'player': 'https://player.vimeo.com/video/337256268'
        },
    ];
    $(document).ready(function(){
        videoCollection.forEach(function( video ) {
            console.log(video);
            displayVideo(video);
        });
    });

    function displayVideo(video) {
        var $hideElement = $('.row .hide');
        console.log($hideElement.length);
        if ($hideElement.length !== 0) {
            var $element = $($hideElement[0]);
            $element.find('.card').addClass(rowBg[toggle]);
            $element.find('.card-title').html(video.title);
            $element.find('iframe').attr('src', video.player);
            $element.removeClass('hide');
            toggle = toggle === 0 ? 1 : 0;
            return;
        }

        appendTemplate();
        return displayVideo(video);
    }

    function appendTemplate() {
        var $template = $('#template .row');
        $('body').append($template);
        var $row = $('.hide');
        $row.removeClass('hide');
        $row.find('.col-sm-6').addClass('hide');
    }
</script>
</html>